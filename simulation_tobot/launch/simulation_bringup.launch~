<launch>
  <arg name="ground_clearance" default="0.0335"/>

  <!--For the sake of testing, insert ablank map and complete missing frames (/map, /odom, /base_footprint)-->
    <!-- Run the map server with a blank map -->
  <node name="map_server" pkg="map_server" type="map_server" args="$(find mobile_safeguard_primitive)/launch/navigation/maps/blank_map.yaml"/>
  <!-- Run a static transform between /odom and /map -->
  <node pkg="tf" type="static_transform_publisher" name="odom_map_broadcaster" args="0 0 0 0 0 0 /map /odom 100" />
  <!-- Run a static transform between /odom and /base_footprint-->
  <node pkg="tf" type="static_transform_publisher" name="odom_basefootprint_broadcaster" args="0 0 0 0 0 0 /odom /base_footprint 100" />
  <!-- Run a static transform between /base_footprint and /base_link-->
  <node pkg="tf" type="static_transform_publisher" name="basefootprint_baselink_broadcaster" args="0 0 $(arg ground_clearance) 0 0 0 /base_footprint /base_link 100" />

<!--These will fire up all necessary components for the simulation both in Rviz and Gazebo.-->
  <!--insert the robot model as urdf xacro-->
  <include file="$(find simulation_tobot)/launch/nav/simulation_tobot.launch">
    <arg name="robot_model" value="$(find simulation_tobot)/URDF/beebot.xacro"/>
  </include>
<<<<<<< HEAD
  
  <!--Fire up Gazebo-->
  <!--Here we are launch an empty world, but CHANGE TO CORRESPONDING LAUNCH FILES IF YOU WANT TO INSERT A DIFFERENT MAP-->
  <include file="$(find simulation_tobot)/launch/gazebo/beebot_world.launch" />
=======
>>>>>>> 262597e801da9a129c131b33b3df05092d13003f

  <!--Launch Rviz-->
  <node pkg="rviz" type="rviz" name="rviz" args="-d $(find simulation_tobot)/rviz/myconf.rviz"/>
  
  <!--Fire up Gazebo simulation-->
  <node include="$(find simulation_tobot)/launch/gazebo/beebot_world.launch"/>

</launch>
